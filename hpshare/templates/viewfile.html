{% extends "base.html" %}
{% load qn_url %}

{% block title %}
    <title>{{model.filename}} - hpShare</title>
{% endblock %}

{% block topbar_extra %}
    {% if preview_model %}
        <a class="download-btn" href="{% url 'hpshare:downloadfile' model.hashid.hashid %}">Download</a>
    {% endif %}
{% endblock %}

{% block content %}
    {% if preview_model %}
    <div class="file-preview">
        {% include preview_template %}
    </div>
    {% else %}
    <div class="file-type">
        <span class="extension">{{model.extension}}</span>
    </div>
    {% endif %}

    <p class="filename">{{model.filename}}</p>
    <p class="extrainfo">
        {% if extrainfo %}
            {% for info in extrainfo %}
            {{ info }}<br/>
            {% endfor %}
            <br/>
        {% endif %}
        <span class="filesize">{{model.readable_size}}</span> 
        &nbsp;â€¢&nbsp;
        <span class="filetime">{{model.hashid.create_time|date:"d/m/Y P e"}}<br/>
        {% if model.sha1sum %}
        SHA1: {{model.sha1sum}}<br/>
        {% endif %}
    </p>
    {% if not preview_model %}
    <a class="download-btn" href="{% url 'hpshare:downloadfile' model.hashid.hashid %}">Download</a>
    {% for p in persistents %}
        <a class="download-btn" href="{{ p.key|qn_url|safe }}">Download as {{p.description}}</a>
    {% endfor %}
    {% endif %}
{% endblock %}
